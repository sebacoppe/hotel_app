{% extends 'base.html' %}
{% block content %}
<h2>Listado de Habitaciones</h2>

<form method="get">
  <label for="estado">Filtrar por estado:</label>
  <select name="estado" onchange="this.form.submit()">
    <option value="">-- Todos --</option>
    <option value="disponible" {% if estado_filtro == 'disponible' %}selected{% endif %}>Disponible</option>
    <option value="ocupada" {% if estado_filtro == 'ocupada' %}selected{% endif %}>Ocupada</option>
    <option value="reservada" {% if estado_filtro == 'reservada' %}selected{% endif %}>Reservada</option>
  </select>
</form>

<table>
  <tr>
    <th>N√∫mero</th>
    <th>Tipo</th>
    <th>Estado</th>
    <th>Precio</th>
    <th>Planta</th>
    <th>Acciones</th>
  </tr>
  {% for h in habitaciones %}
  <tr class="estado-{{ h.estado }}">
    <td>{{ h.numero }}</td>
    <td>{{ h.tipo }}</td>
    <td>
        <span class="badge {% if h.estado == 'ocupada' %}bg-danger{% elif h.estado == 'reservada' %}bg-warning text-dark{% else %}bg-success{% endif %}">
            {{ h.estado.capitalize() }}
        </span>
    </td>
    <td>${{ h.precio }}</td>
    <td>{{ h.planta }}</td>
    <td>
      
      <a href="{{ url_for('habitaciones.editar_habitacion', numero=h.numero) }}">üõ†Ô∏è Editar habitacion</a>
    </td>
  </tr>  
  {% endfor %}
</table>
<a href="{{ url_for('habitaciones.agregar_habitacion') }}">‚ûï Agregar habitaci√≥n</a>
{% endblock %}


